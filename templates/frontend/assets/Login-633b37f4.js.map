{"version":3,"file":"Login-633b37f4.js","sources":["../../../../js/app/src/Login.svelte"],"sourcesContent":["<script lang=\"ts\">\r\n\timport { Component as Form } from \"./components/Form\";\r\n\timport { Component as Textbox } from \"./components/Textbox\";\r\n\timport { Button } from \"@gradio/button\";\r\n\timport { Component as Column } from \"./components/Column\";\r\n\texport let root: string;\r\n\texport let auth_message: string | null;\r\n\texport let app_mode: boolean;\r\n\texport let is_space: boolean;\r\n\r\n\tlet username = \"\";\r\n\tlet password = \"\";\r\n\tlet incorrect_credentials = false;\r\n\r\n\tconst submit = async () => {\r\n\t\tconst formData = new FormData();\r\n\t\tformData.append(\"username\", username);\r\n\t\tformData.append(\"password\", password);\r\n\r\n\t\tlet response = await fetch(root + \"/login\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: formData\r\n\t\t});\r\n\t\tif (response.status === 400) {\r\n\t\t\tincorrect_credentials = true;\r\n\t\t\tusername = \"\";\r\n\t\t\tpassword = \"\";\r\n\t\t} else if (response.status == 200) {\r\n\t\t\tlocation.reload();\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<div class=\"wrap\" class:min-h-screen={app_mode}>\r\n\t<Column variant=\"panel\" min_width={480}>\r\n\t\t<h2>Login</h2>\r\n\t\t{#if auth_message}\r\n\t\t\t<p class=\"auth\">{auth_message}</p>\r\n\t\t{/if}\r\n\t\t{#if is_space}\r\n\t\t\t<p class=\"auth\">\r\n\t\t\t\tIf you are visiting a HuggingFace Space in Incognito mode, you must\r\n\t\t\t\tenable third party cookies.\r\n\t\t\t</p>\r\n\t\t{/if}\r\n\t\t{#if incorrect_credentials}\r\n\t\t\t<p class=\"creds\">Incorrect Credentials</p>\r\n\t\t{/if}\r\n\t\t<Form>\r\n\t\t\t<Textbox\r\n\t\t\t\tlabel=\"username\"\r\n\t\t\t\tlines={1}\r\n\t\t\t\tshow_label={true}\r\n\t\t\t\tmax_lines={1}\r\n\t\t\t\tmode=\"dynamic\"\r\n\t\t\t\ton:submit={submit}\r\n\t\t\t\tbind:value={username}\r\n\t\t\t/>\r\n\t\t\t<Textbox\r\n\t\t\t\tlabel=\"password\"\r\n\t\t\t\tlines={1}\r\n\t\t\t\tshow_label={true}\r\n\t\t\t\tmax_lines={1}\r\n\t\t\t\tmode=\"dynamic\"\r\n\t\t\t\ttype=\"password\"\r\n\t\t\t\ton:submit={submit}\r\n\t\t\t\tbind:value={password}\r\n\t\t\t/>\r\n\t\t</Form>\r\n\r\n\t\t<Button\r\n\t\t\tsize=\"lg\"\r\n\t\t\tvariant=\"primary\"\r\n\t\t\tstyle={{ full_width: true }}\r\n\t\t\ton:click={submit}\r\n\t\t>\r\n\t\t\tLogin\r\n\t\t</Button>\r\n\t</Column>\r\n</div>\r\n\r\n<style>\r\n\t.wrap {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tmargin-top: var(--size-3);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: var(--size-full);\r\n\t}\r\n\r\n\th2 {\r\n\t\tmargin-bottom: var(--size-3);\r\n\t\tcolor: var(--body-text-color);\r\n\t\tfont-weight: var(--section-header-text-weight);\r\n\t\tfont-size: var(--text-xl);\r\n\t}\r\n\r\n\t.auth {\r\n\t\tmargin-top: var(--size-1);\r\n\t\tmargin-bottom: var(--size-1);\r\n\t\tcolor: var(--body-text-color);\r\n\t}\r\n\r\n\t.creds {\r\n\t\tmargin-top: var(--size-4);\r\n\t\tmargin-bottom: var(--size-4);\r\n\t\tcolor: var(--error-text-color);\r\n\t\tfont-weight: var(--weight-semibold);\r\n\t}\r\n</style>\r\n"],"names":["ctx","insert","target","p","anchor","create_if_block_2","create_if_block_1","create_if_block","h2","div","root","$$props","auth_message","app_mode","is_space","username","password","incorrect_credentials","submit","formData","response","$$invalidate","value"],"mappings":"6oBAqCoBA,EAAY,CAAA,CAAA,6CAA7BC,EAAkCC,EAAAC,EAAAC,CAAA,0BAAjBJ,EAAY,CAAA,CAAA;4EAG7BC,EAGIC,EAAAC,EAAAC,CAAA,4IAGJH,EAA0CC,EAAAC,EAAAC,CAAA,oGAKlC,aACK,aACD,kBAGCJ,EAAQ,CAAA,IAAA,iBAARA,EAAQ,CAAA,gEADTA,EAAM,CAAA,CAAA,sDAKV,aACK,aACD,yCAICA,EAAQ,CAAA,IAAA,iBAARA,EAAQ,CAAA,gEADTA,EAAM,CAAA,CAAA,iIATLA,EAAQ,CAAA,4DAURA,EAAQ,CAAA,iMASrB,OAED,yEAzCKA,EAAY,CAAA,GAAAK,EAAAL,CAAA,IAGZA,EAAQ,CAAA,GAAAM,EAAA,IAMRN,EAAqB,CAAA,GAAAO,EAAA,8GA4BhB,MAAA,CAAA,WAAY,EAAI,yDACfP,EAAM,CAAA,CAAA,wKAvCjBC,EAAcC,EAAAM,EAAAJ,CAAA,kHACTJ,EAAY,CAAA,mEAGZA,EAAQ,CAAA,0DAMRA,EAAqB,CAAA,gcAXQ,oIADEA,EAAQ,CAAA,CAAA,UAA9CC,EA8CMC,EAAAO,EAAAL,CAAA,oHA9CgCJ,EAAQ,CAAA,CAAA,8GA5BlC,KAAAU,CAAY,EAAAC,GACZ,aAAAC,CAA2B,EAAAD,GAC3B,SAAAE,CAAiB,EAAAF,GACjB,SAAAG,CAAiB,EAAAH,EAExBI,EAAW,GACXC,EAAW,GACXC,EAAwB,SAEtBC,EAAM,SAAA,CACL,MAAAC,MAAe,SACrBA,EAAS,OAAO,WAAYJ,CAAQ,EACpCI,EAAS,OAAO,WAAYH,CAAQ,EAEhC,IAAAI,EAAiB,MAAA,MAAMV,EAAO,SACjC,CAAA,OAAQ,OACR,KAAMS,CAAQ,CAAA,EAEXC,EAAS,SAAW,KACvBC,EAAA,EAAAJ,EAAwB,EAAI,EAC5BI,EAAA,EAAAN,EAAW,EAAE,EACbM,EAAA,EAAAL,EAAW,EAAE,GACHI,EAAS,QAAU,KAC7B,SAAS,OAAM,iBA4BFL,EAAQO,uBAURN,EAAQM"}