{"version":3,"file":"index-8e0d50af.js","sources":["../../../../js/app/src/components/Interpretation/utils.ts","../../../../js/app/src/components/Interpretation/InterpretationComponents/Number.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Dropdown.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Checkbox.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/CheckboxGroup.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Slider.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Radio.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Image.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Audio.svelte","../../../../js/app/src/components/Interpretation/InterpretationComponents/Textbox.svelte","../../../../js/app/src/components/Interpretation/directory.ts","../../../../js/app/src/components/Interpretation/Interpretation.svelte","../../../../js/app/src/components/Interpretation/index.ts"],"sourcesContent":["export const getSaliencyColor = (value: number): string => {\r\n\tvar color: [number, number, number] | null = null;\r\n\tif (value < 0) {\r\n\t\tcolor = [52, 152, 219];\r\n\t} else {\r\n\t\tcolor = [231, 76, 60];\r\n\t}\r\n\treturn colorToString(interpolate(Math.abs(value), [255, 255, 255], color));\r\n};\r\n\r\nconst interpolate = (\r\n\tval: number,\r\n\trgb1: [number, number, number],\r\n\trgb2: [number, number, number]\r\n): [number, number, number] => {\r\n\tif (val > 1) {\r\n\t\tval = 1;\r\n\t}\r\n\tval = Math.sqrt(val);\r\n\tvar rgb: [number, number, number] = [0, 0, 0];\r\n\tvar i;\r\n\tfor (i = 0; i < 3; i++) {\r\n\t\trgb[i] = Math.round(rgb1[i] * (1.0 - val) + rgb2[i] * val);\r\n\t}\r\n\treturn rgb;\r\n};\r\n\r\nconst colorToString = (rgb: [number, number, number]): string => {\r\n\treturn \"rgb(\" + rgb[0] + \", \" + rgb[1] + \", \" + rgb[2] + \")\";\r\n};\r\n\r\nexport const getObjectFitSize = (\r\n\tcontains: boolean /* true = contain, false = cover */,\r\n\tcontainerWidth: number,\r\n\tcontainerHeight: number,\r\n\twidth: number,\r\n\theight: number\r\n) => {\r\n\tvar doRatio = width / height;\r\n\tvar cRatio = containerWidth / containerHeight;\r\n\tvar targetWidth = 0;\r\n\tvar targetHeight = 0;\r\n\tvar test = contains ? doRatio > cRatio : doRatio < cRatio;\r\n\r\n\tif (test) {\r\n\t\ttargetWidth = containerWidth;\r\n\t\ttargetHeight = targetWidth / doRatio;\r\n\t} else {\r\n\t\ttargetHeight = containerHeight;\r\n\t\ttargetWidth = targetHeight * doRatio;\r\n\t}\r\n\r\n\treturn {\r\n\t\twidth: targetWidth,\r\n\t\theight: targetHeight,\r\n\t\tx: (containerWidth - targetWidth) / 2,\r\n\t\ty: (containerHeight - targetHeight) / 2\r\n\t};\r\n};\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let interpretation: Array<[number, number]>;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div class=\"input-number\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<div class=\"range\">\r\n\t\t{#each interpretation as interpret_value}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"item\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpret_value[1])}\r\n\t\t\t>\r\n\t\t\t\t{interpret_value[0]}\r\n\t\t\t</div>\r\n\t\t{/each}\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t.input-number {\r\n\t\ttransition: 150ms;\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tbackground: var(--background-fill-secondary);\r\n\t}\r\n\r\n\t.input-number:hover {\r\n\t\tbox-shadow: var(--shadow-drop-lg);\r\n\t}\r\n\t.range {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.item {\r\n\t\tflex: 1 1 0%;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let interpretation: Array<number>;\r\n\texport let choices: Array<string>;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div>\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<ul class=\"dropdown-menu\">\r\n\t\t{#each choices as choice, i}\r\n\t\t\t<li\r\n\t\t\t\tclass=\"dropdown-item\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[i])}\r\n\t\t\t>\r\n\t\t\t\t{choice}\r\n\t\t\t</li>\r\n\t\t{/each}\r\n\t</ul>\r\n</div>\r\n\r\n<style>\r\n\t.dropdown-menu {\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t}\r\n\t.dropdown-item {\r\n\t\tdisplay: block;\r\n\t\ttransition: 150ms;\r\n\t\tcursor: pointer;\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\tpadding: var(--size-2) var(--size-3);\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.dropdown-item:first-child {\r\n\t\tborder-top-right-radius: var(--radius-md);\r\n\t\tborder-top-left-radius: var(--radius-md);\r\n\t}\r\n\t.dropdown-item:last-child {\r\n\t\tborder-bottom-right-radius: var(--radius-md);\r\n\t\tborder-bottom-left-radius: var(--radius-md);\r\n\t}\r\n\r\n\t.dropdown-item:hover {\r\n\t\tfont-weight: var(--weight-semibold);\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let label: string = \"\";\r\n\texport let original: boolean;\r\n\texport let interpretation: [number, number];\r\n</script>\r\n\r\n<div class=\"input-checkbox\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<button class=\"checkbox-item\" class:selected={original}>\r\n\t\t<div\r\n\t\t\tclass=\"checkbox\"\r\n\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[0])}\r\n\t\t/>\r\n\t\t<div\r\n\t\t\tclass=\"checkbox\"\r\n\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[1])}\r\n\t\t>\r\n\t\t\t<svg viewBox=\"-10 -10 20 20\">\r\n\t\t\t\t<line\r\n\t\t\t\t\tx1=\"-7.5\"\r\n\t\t\t\t\ty1=\"0\"\r\n\t\t\t\t\tx2=\"-2.5\"\r\n\t\t\t\t\ty2=\"5\"\r\n\t\t\t\t\tstroke=\"black\"\r\n\t\t\t\t\tstroke-width=\"4\"\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t/>\r\n\t\t\t\t<line\r\n\t\t\t\t\tx1=\"-2.5\"\r\n\t\t\t\t\ty1=\"5\"\r\n\t\t\t\t\tx2=\"7.5\"\r\n\t\t\t\t\ty2=\"-7.5\"\r\n\t\t\t\t\tstroke=\"black\"\r\n\t\t\t\t\tstroke-width=\"4\"\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</button>\r\n</div>\r\n\r\n<style lang=\"postcss\">\r\n\t.input-checkbox {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\tsvg {\r\n\t\twidth: var(--size-4);\r\n\t\theight: var(--size-3);\r\n\t}\r\n\t.selected svg {\r\n\t\topacity: 1;\r\n\t}\r\n\t.input-checkbox {\r\n\t\tdisplay: flex;\r\n\t\tgap: var(--size-1);\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tpadding: var(--size-2) var(--size-3);\r\n\t}\r\n\r\n\t.checkbox {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder: 1px solid var(--border-color-primary);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: var(--size-4);\r\n\t\theight: var(--size-4);\r\n\t}\r\n\r\n\t.checkbox-item {\r\n\t\ttransition: 150ms;\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t}\r\n\r\n\t.checkbox-item:hover {\r\n\t\tbox-shadow: var(--shadow-drop-lg);\r\n\t}\r\n\t.checkbox-item.selected {\r\n\t\tbackground: var(--color-accent-base);\r\n\t\tcolor: white;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let original: Array<string>;\r\n\texport let interpretation: Array<[number, number]>;\r\n\texport let choices: Array<string>;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div class=\"input-checkbox-group\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t{#each choices as choice, i}\r\n\t\t<button class=\"checkbox-item\" class:selected={original.includes(choice)}>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"checkbox\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[i][0])}\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"checkbox\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[i][1])}\r\n\t\t\t>\r\n\t\t\t\t<svg viewBox=\"-10 -10 20 20\">\r\n\t\t\t\t\t<line\r\n\t\t\t\t\t\tx1=\"-7.5\"\r\n\t\t\t\t\t\ty1=\"0\"\r\n\t\t\t\t\t\tx2=\"-2.5\"\r\n\t\t\t\t\t\ty2=\"5\"\r\n\t\t\t\t\t\tstroke=\"black\"\r\n\t\t\t\t\t\tstroke-width=\"4\"\r\n\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<line\r\n\t\t\t\t\t\tx1=\"-2.5\"\r\n\t\t\t\t\t\ty1=\"5\"\r\n\t\t\t\t\t\tx2=\"7.5\"\r\n\t\t\t\t\t\ty2=\"-7.5\"\r\n\t\t\t\t\t\tstroke=\"black\"\r\n\t\t\t\t\t\tstroke-width=\"4\"\r\n\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</svg>\r\n\t\t\t</div>\r\n\t\t\t{choice}\r\n\t\t</button>\r\n\t{/each}\r\n</div>\r\n\r\n<style lang=\"postcss\">\r\n\tsvg {\r\n\t\twidth: var(--size-4);\r\n\t\theight: var(--size-3);\r\n\t}\r\n\t.selected svg {\r\n\t\topacity: 1;\r\n\t}\r\n\t.input-checkbox-group {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: var(--size-2);\r\n\t}\r\n\r\n\t.checkbox-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: var(--size-1);\r\n\t\ttransition: 150ms;\r\n\t\tcursor: pointer;\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\tpadding: var(--size-2) var(--size-3);\r\n\t\tfont-weight: var(--weight-semibold);\r\n\t}\r\n\r\n\t.checkbox-item:hover {\r\n\t\tbox-shadow: var(--shadow-drop-lg);\r\n\t}\r\n\r\n\t.checkbox {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder: 1px solid var(--border-color-primary);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: var(--size-4);\r\n\t\theight: var(--size-4);\r\n\t}\r\n\t.checkbox-item.selected {\r\n\t\tbackground: var(--color-accent-base);\r\n\t\tcolor: white;\r\n\t}\r\n\t.selected .checkbox {\r\n\t\tbackground: var(--color-accent-base);\r\n\t}\r\n\r\n\t.checkbox-item {\r\n\t\ttransition: 150ms;\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t}\r\n\r\n\t.checkbox-item.selected {\r\n\t\tbackground: var(--color-accent-base);\r\n\t\tcolor: white;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let original: number;\r\n\texport let interpretation: Array<number>;\r\n\texport let minimum: number;\r\n\texport let maximum: number;\r\n\texport let step: number;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div class=\"input-slider\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<input type=\"range\" disabled min={minimum} max={maximum} {step} />\r\n\t<div class=\"range\">\r\n\t\t{#each interpretation as interpret_value}\r\n\t\t\t<div style={\"background-color: \" + getSaliencyColor(interpret_value)} />\r\n\t\t{/each}\r\n\t</div>\r\n\t<div class=\"original\">\r\n\t\t{original}\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\tinput::-webkit-slider-thumb,\r\n\t.range::-moz-range-thumb {\r\n\t\t-webkit-appearance: none;\r\n\t\tappearance: none;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: var(--radius-md);\r\n\t\twidth: var(--size-5);\r\n\t\theight: var(--size-5);\r\n\t}\r\n\r\n\t.input-slider {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.range {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\tinput {\r\n\t\ttransition: 150ms;\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: var(--size-full);\r\n\t\theight: var(--size-3);\r\n\t}\r\n\r\n\tinput:hover {\r\n\t\tbox-shadow: var(--shadow-drop-lg);\r\n\t}\r\n\r\n\tinput::-webkit-slider-thumb,\r\n\tinput::-moz-range-thumb {\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tbackground: linear-gradient(\r\n\t\t\tto bottom,\r\n\t\t\tvar(--color-orange-300),\r\n\t\t\tvar(--color-orange-500)\r\n\t\t);\r\n\t}\r\n\r\n\t.original {\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: var(--size-1) auto;\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tpadding: var(--size-0-5) var(--size-2);\r\n\t}\r\n\r\n\t.range > div {\r\n\t\tflex: 1 1 0%;\r\n\t\theight: var(--size-4);\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let original: string;\r\n\texport let interpretation: Array<number>;\r\n\texport let choices: Array<string>;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div class=\"input-radio\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t{#each choices as choice, i}\r\n\t\t<button class=\"radio-item\" class:selected={original === choice}>\r\n\t\t\t<div\r\n\t\t\t\tclass=\"radio-circle\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpretation[i])}\r\n\t\t\t/>\r\n\t\t\t{choice}\r\n\t\t</button>\r\n\t{/each}\r\n</div>\r\n\r\n<style>\r\n\t.input-radio {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tgap: var(--size-2);\r\n\t}\r\n\r\n\t.radio-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: var(--size-2);\r\n\t\ttransition: 150ms;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\tpadding: var(--size-2) var(--size-3);\r\n\t\tfont-weight: var(--weight-semibold);\r\n\t}\r\n\r\n\t.radio-item:hover {\r\n\t\tbox-shadow: var(--shadow-drop-lg);\r\n\t}\r\n\t.radio-circle {\r\n\t\tbox-sizing: border-box;\r\n\t\tborder-radius: var(--radius-full);\r\n\t\twidth: var(--size-4);\r\n\t\theight: var(--size-4);\r\n\t}\r\n\t.radio-item.selected {\r\n\t\tbox-shadow: var(--shadow-drop);\r\n\t\tbackground: var(--color-accent-base);\r\n\t\tcolor: white;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor, getObjectFitSize } from \"../utils\";\r\n\timport { afterUpdate } from \"svelte\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\r\n\texport let original: string;\r\n\texport let interpretation: Array<Array<number>>;\r\n\texport let shape: undefined | [number, number];\r\n\texport let label: string = \"\";\r\n\r\n\tlet saliency_layer: HTMLCanvasElement;\r\n\tlet image: HTMLImageElement;\r\n\r\n\tconst paintSaliency = (\r\n\t\tdata: Array<Array<number>>,\r\n\t\tctx: CanvasRenderingContext2D,\r\n\t\twidth: number,\r\n\t\theight: number\r\n\t) => {\r\n\t\tvar cell_width = width / data[0].length;\r\n\t\tvar cell_height = height / data.length;\r\n\t\tvar r = 0;\r\n\t\tdata.forEach(function (row) {\r\n\t\t\tvar c = 0;\r\n\t\t\trow.forEach(function (cell) {\r\n\t\t\t\tctx.fillStyle = getSaliencyColor(cell);\r\n\t\t\t\tctx.fillRect(c * cell_width, r * cell_height, cell_width, cell_height);\r\n\t\t\t\tc++;\r\n\t\t\t});\r\n\t\t\tr++;\r\n\t\t});\r\n\t};\r\n\r\n\tafterUpdate(() => {\r\n\t\tlet size = getObjectFitSize(\r\n\t\t\ttrue,\r\n\t\t\timage.width,\r\n\t\t\timage.height,\r\n\t\t\timage.naturalWidth,\r\n\t\t\timage.naturalHeight\r\n\t\t);\r\n\t\tif (shape) {\r\n\t\t\tsize = getObjectFitSize(\r\n\t\t\t\ttrue,\r\n\t\t\t\tsize.width,\r\n\t\t\t\tsize.height,\r\n\t\t\t\tshape[0],\r\n\t\t\t\tshape[1]\r\n\t\t\t);\r\n\t\t}\r\n\t\tlet width = size.width;\r\n\t\tlet height = size.height;\r\n\t\tsaliency_layer.setAttribute(\"height\", `${height}`);\r\n\t\tsaliency_layer.setAttribute(\"width\", `${width}`);\r\n\t\tpaintSaliency(\r\n\t\t\tinterpretation,\r\n\t\t\tsaliency_layer.getContext(\"2d\")!,\r\n\t\t\twidth,\r\n\t\t\theight\r\n\t\t);\r\n\t});\r\n</script>\r\n\r\n<div class=\"input-image\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<div class=\"image-preview\">\r\n\t\t<!-- svelte-ignore a11y-missing-attribute -->\r\n\t\t<div class=\"interpretation\">\r\n\t\t\t<canvas bind:this={saliency_layer} />\r\n\t\t</div>\r\n\t\t<!-- svelte-ignore a11y-missing-attribute -->\r\n\t\t<img bind:this={image} src={original} />\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t.image-preview {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: var(--size-full);\r\n\t\theight: var(--size-60);\r\n\t}\r\n\r\n\t.interpretation {\r\n\t\tdisplay: flex;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\topacity: 0.9;\r\n\t\ttransition: 150ms;\r\n\t\twidth: var(--size-full);\r\n\t\theight: var(--size-full);\r\n\t}\r\n\r\n\t.interpretation:hover {\r\n\t\topacity: 0.2;\r\n\t}\r\n\timg {\r\n\t\twidth: var(--size-full);\r\n\t\theight: var(--size-full);\r\n\t\tobject-fit: contain;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\texport let interpretation: Array<number>;\r\n\texport let label: string = \"\";\r\n</script>\r\n\r\n<div>\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t<div class=\"range\">\r\n\t\t{#each interpretation as interpret_value}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"item\"\r\n\t\t\t\tstyle={\"background-color: \" + getSaliencyColor(interpret_value)}\r\n\t\t\t/>\r\n\t\t{/each}\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t.range {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.item {\r\n\t\tdisplay: flex;\r\n\t\theight: var(--size-4);\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getSaliencyColor } from \"../utils\";\r\n\timport { BlockTitle } from \"@gradio/atoms\";\r\n\texport let label: string = \"\";\r\n\texport let interpretation: Array<[string, number]>;\r\n</script>\r\n\r\n<div class=\"input-text\">\r\n\t<BlockTitle>{label}</BlockTitle>\r\n\t{#each interpretation as [text, saliency]}\r\n\t\t<span\r\n\t\t\tclass=\"text-span\"\r\n\t\t\tstyle={\"background-color: \" + getSaliencyColor(saliency)}\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</span>\r\n\t{/each}\r\n</div>\r\n\r\n<style>\r\n\t.input-text {\r\n\t\tborder-radius: var(--radius-md);\r\n\t\tpadding: var(--size-2);\r\n\t\twidth: var(--size-full);\r\n\t\toverflow-wrap: break-word;\r\n\t}\r\n\r\n\t.text-span {\r\n\t\tpadding: var(--size-1);\r\n\t}\r\n</style>\r\n","import InterpretationNumber from \"./InterpretationComponents/Number.svelte\";\r\nimport InterpretationDropdown from \"./InterpretationComponents/Dropdown.svelte\";\r\nimport InterpretationCheckbox from \"./InterpretationComponents/Checkbox.svelte\";\r\nimport InterpretationCheckboxGroup from \"./InterpretationComponents/CheckboxGroup.svelte\";\r\nimport InterpretationSlider from \"./InterpretationComponents/Slider.svelte\";\r\nimport InterpretationRadio from \"./InterpretationComponents/Radio.svelte\";\r\nimport InterpretationImage from \"./InterpretationComponents/Image.svelte\";\r\nimport InterpretationAudio from \"./InterpretationComponents/Audio.svelte\";\r\nimport InterpretationTextbox from \"./InterpretationComponents/Textbox.svelte\";\r\n\r\nexport const component_map = {\r\n\taudio: InterpretationAudio,\r\n\tdropdown: InterpretationDropdown,\r\n\tcheckbox: InterpretationCheckbox,\r\n\tcheckboxgroup: InterpretationCheckboxGroup,\r\n\tnumber: InterpretationNumber,\r\n\tslider: InterpretationSlider,\r\n\tradio: InterpretationRadio,\r\n\timage: InterpretationImage,\r\n\ttextbox: InterpretationTextbox\r\n};\r\n","<script lang=\"ts\">\r\n\timport type { ComponentType } from \"svelte\";\r\n\timport type { SvelteComponentDev } from \"svelte/internal\";\r\n\timport { component_map } from \"./directory\";\r\n\r\n\texport let component: keyof typeof component_map;\r\n\texport let component_props: Record<string, any>;\r\n\texport let value: any;\r\n\r\n\t$: _component = component_map[component] as ComponentType<SvelteComponentDev>;\r\n</script>\r\n\r\n{#if value}\r\n\t<svelte:component\r\n\t\tthis={_component}\r\n\t\t{...component_props}\r\n\t\toriginal={value.original}\r\n\t\tinterpretation={value.interpretation}\r\n\t/>\r\n{/if}\r\n","export { default as Component } from \"./Interpretation.svelte\";\r\nexport const modes = [\"dynamic\"];\r\n"],"names":["getSaliencyColor","value","color","colorToString","interpolate","val","rgb1","rgb2","rgb","i","getObjectFitSize","contains","containerWidth","containerHeight","width","height","doRatio","cRatio","targetWidth","targetHeight","test","ctx","t0_value","attr","div","div_style_value","insert","target","anchor","dirty","set_data","t0","div1","append","div0","interpretation","$$props","label","li","li_style_value","ul","choices","div0_style_value","div1_style_value","div2","button","svg","line0","line1","current","original","t2","t2_value","input","minimum","maximum","step","toggle_class","t1","t1_value","img","img_src_value","canvas","shape","saliency_layer","image","paintSaliency","data","cell_width","cell_height","r","row","c","cell","afterUpdate","size","$$value","span","component_map","InterpretationAudio","InterpretationDropdown","InterpretationCheckbox","InterpretationCheckboxGroup","InterpretationNumber","InterpretationSlider","InterpretationRadio","InterpretationImage","InterpretationTextbox","create_if_block","component","component_props","$$invalidate","_component","modes"],"mappings":"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"}