{"version":3,"file":"index.e7b2818b.js","sources":["../../../../ui/node_modules/.pnpm/dequal@2.0.2/node_modules/dequal/lite/index.mjs","../../../../ui/packages/table/src/EditableCell.svelte","../../../../ui/packages/table/src/Table.svelte","../../../../ui/packages/app/src/components/DataFrame/DataFrame.svelte","../../../../ui/packages/app/src/components/DataFrame/index.ts"],"sourcesContent":["var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","<script lang=\"ts\">\r\n\texport let edit: boolean;\r\n\texport let value: string | number = \"\";\r\n\texport let el: HTMLInputElement | null;\r\n\texport let header: boolean = false;\r\n\texport let datatype:\r\n\t\t| \"str\"\r\n\t\t| \"markdown\"\r\n\t\t| \"html\"\r\n\t\t| \"number\"\r\n\t\t| \"bool\"\r\n\t\t| \"date\" = \"str\";\r\n</script>\r\n\r\n{#if edit}\r\n\t<input\r\n\t\tclass=\"absolute outline-none inset-2 bg-transparent border-0 translate-x-px flex-1 \"\r\n\t\tclass:translate-x-px={!header}\r\n\t\tclass:font-bold={header}\r\n\t\ttabindex=\"-1\"\r\n\t\tbind:value\r\n\t\tbind:this={el}\r\n\t\ton:keydown\r\n\t\ton:blur={({ currentTarget }) =>\r\n\t\t\tcurrentTarget.setAttribute(\"tabindex\", \"-1\")}\r\n\t/>\r\n{/if}\r\n<span\r\n\ton:dblclick\r\n\ttabindex=\"-1\"\r\n\trole=\"button\"\r\n\tclass:opacity-0={edit}\r\n\tclass:pointer-events-none={edit}\r\n\tclass=\"p-2  outline-none border-0 flex-1\"\r\n>\r\n\t{#if datatype === \"markdown\" || datatype === \"html\"}\r\n\t\t{@html value}\r\n\t{:else}\r\n\t\t{value}\r\n\t{/if}\r\n</span>\r\n","<script lang=\"ts\">\r\n\timport { createEventDispatcher, tick } from \"svelte\";\r\n\timport { dsvFormat } from \"d3-dsv\";\r\n\timport { dequal } from \"dequal/lite\";\r\n\r\n\timport type { Styles } from \"@gradio/utils\";\r\n\r\n\timport { Upload } from \"@gradio/upload\";\r\n\timport EditableCell from \"./EditableCell.svelte\";\r\n\r\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\r\n\r\n\texport let datatype: Datatype | Array<Datatype>;\r\n\texport let label: string | null = null;\r\n\texport let headers: Array<string> = [];\r\n\texport let values:\r\n\t\t| Array<Array<string | number>>\r\n\t\t| { data: Array<Array<string | number>>; headers: Array<string> } = [[]];\r\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\r\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\r\n\r\n\texport let editable = true;\r\n\texport let wrap: boolean = false;\r\n\r\n\t$: {\r\n\t\tif (values && !Array.isArray(values)) {\r\n\t\t\theaders = values.headers;\r\n\t\t\tvalues =\r\n\t\t\t\tvalues.data.length === 0\r\n\t\t\t\t\t? [Array(headers.length).fill(\"\")]\r\n\t\t\t\t\t: values.data;\r\n\t\t} else if (values === null) {\r\n\t\t\tvalues = [Array(headers.length).fill(\"\")];\r\n\t\t} else {\r\n\t\t\tvalues = values;\r\n\t\t}\r\n\t}\r\n\r\n\tconst dispatch = createEventDispatcher<{\r\n\t\tchange: { data: Array<Array<string | number>>; headers: Array<string> };\r\n\t}>();\r\n\r\n\tlet editing: boolean | string = false;\r\n\tlet selected: boolean | string = false;\r\n\tlet els: Record<\r\n\t\tstring,\r\n\t\t{ cell: null | HTMLTableCellElement; input: null | HTMLInputElement }\r\n\t> = {};\r\n\r\n\ttype Headers = Array<{ value: string; id: string }>;\r\n\r\n\tfunction make_headers(_head: Array<string>): Headers {\r\n\t\tlet _h = _head || [];\r\n\t\tif (col_count[1] === \"fixed\" && _h.length < col_count[0]) {\r\n\t\t\tconst fill = Array(col_count[0] - _h.length)\r\n\t\t\t\t.fill(\"\")\r\n\t\t\t\t.map((_, i) => `${i + _h.length}`);\r\n\t\t\t_h = _h.concat(fill);\r\n\t\t}\r\n\r\n\t\tif (!_h || _h.length === 0) {\r\n\t\t\treturn Array(col_count[0])\r\n\t\t\t\t.fill(0)\r\n\t\t\t\t.map((_, i) => {\r\n\t\t\t\t\tconst _id = `h-${i}`;\r\n\t\t\t\t\tels[_id] = { cell: null, input: null };\r\n\t\t\t\t\treturn { id: _id, value: JSON.stringify(i + 1) };\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn _h.map((h, i) => {\r\n\t\t\t\tconst _id = `h-${i}`;\r\n\t\t\t\tels[_id] = { cell: null, input: null };\r\n\t\t\t\treturn { id: _id, value: h ?? \"\" };\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction process_data(_values: Array<Array<string | number>>) {\r\n\t\tconst data_row_length = _values.length > 0 ? _values.length : row_count[0];\r\n\r\n\t\treturn Array(\r\n\t\t\trow_count[1] === \"fixed\"\r\n\t\t\t\t? row_count[0]\r\n\t\t\t\t: data_row_length < row_count[0]\r\n\t\t\t\t? row_count[0]\r\n\t\t\t\t: data_row_length\r\n\t\t)\r\n\t\t\t.fill(0)\r\n\t\t\t.map((_, i) =>\r\n\t\t\t\tArray(col_count[1] === \"fixed\" ? col_count[0] : _values[0].length)\r\n\t\t\t\t\t.fill(0)\r\n\t\t\t\t\t.map((_, j) => {\r\n\t\t\t\t\t\tconst id = `${i}-${j}`;\r\n\t\t\t\t\t\tels[id] = { input: null, cell: null };\r\n\t\t\t\t\t\treturn { value: _values?.[i]?.[j] ?? \"\", id };\r\n\t\t\t\t\t})\r\n\t\t\t);\r\n\t}\r\n\r\n\tlet _headers = make_headers(headers);\r\n\tlet old_headers: Array<string> | undefined;\r\n\r\n\t$: {\r\n\t\tif (!dequal(headers, old_headers)) {\r\n\t\t\t_headers = make_headers(headers);\r\n\r\n\t\t\told_headers = headers;\r\n\t\t\trefresh_focus();\r\n\t\t}\r\n\t}\r\n\t$: if (!dequal(values, old_val)) {\r\n\t\tdata = process_data(values as Array<Array<string | number>>);\r\n\t\told_val = values as Array<Array<string | number>>;\r\n\r\n\t\trefresh_focus();\r\n\t}\r\n\r\n\tasync function refresh_focus() {\r\n\t\tif (typeof editing === \"string\") {\r\n\t\t\tawait tick();\r\n\t\t\tels[editing as string]?.input?.focus();\r\n\t\t} else if (typeof selected === \"string\") {\r\n\t\t\tawait tick();\r\n\t\t\tels[selected as string]?.input?.focus();\r\n\t\t}\r\n\t}\r\n\r\n\tlet data: Array<Array<{ id: string; value: string | number }>> = [[]];\r\n\r\n\tlet old_val: undefined | Array<Array<string | number>> = undefined;\r\n\r\n\t$: _headers &&\r\n\t\tdispatch(\"change\", {\r\n\t\t\tdata: data.map((r) => r.map(({ value }) => value)),\r\n\t\t\theaders: _headers.map((h) => h.value)\r\n\t\t});\r\n\r\n\tfunction get_sort_status(\r\n\t\tname: string,\r\n\t\tsort: number,\r\n\t\tdirection?: SortDirection\r\n\t) {\r\n\t\tif (!sort) return \"none\";\r\n\t\tif (headers[sort] === name) {\r\n\t\t\tif (direction === \"asc\") return \"ascending\";\r\n\t\t\tif (direction === \"des\") return \"descending\";\r\n\t\t}\r\n\t}\r\n\r\n\tfunction get_current_indices(id: string) {\r\n\t\treturn data.reduce(\r\n\t\t\t(acc, arr, i) => {\r\n\t\t\t\tconst j = arr.reduce((acc, data, j) => (id === data.id ? j : acc), -1);\r\n\r\n\t\t\t\treturn j === -1 ? acc : [i, j];\r\n\t\t\t},\r\n\t\t\t[-1, -1]\r\n\t\t);\r\n\t}\r\n\r\n\tasync function start_edit(id: string, clear?: boolean) {\r\n\t\tif (!editable || editing === id) return;\r\n\r\n\t\tif (clear) {\r\n\t\t\tconst [i, j] = get_current_indices(id);\r\n\r\n\t\t\tdata[i][j].value = \"\";\r\n\t\t}\r\n\t\tediting = id;\r\n\t\tawait tick();\r\n\t\tconst { input } = els[id];\r\n\t\tinput?.focus();\r\n\t}\r\n\r\n\tasync function handle_keydown(\r\n\t\tevent: KeyboardEvent,\r\n\t\ti: number,\r\n\t\tj: number,\r\n\t\tid: string\r\n\t) {\r\n\t\tlet is_data;\r\n\r\n\t\tswitch (event.key) {\r\n\t\t\tcase \"ArrowRight\":\r\n\t\t\t\tif (editing) break;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tis_data = data[i][j + 1];\r\n\t\t\t\tselected = is_data ? is_data.id : selected;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ArrowLeft\":\r\n\t\t\t\tif (editing) break;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tis_data = data[i][j - 1];\r\n\t\t\t\tselected = is_data ? is_data.id : selected;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ArrowDown\":\r\n\t\t\t\tif (editing) break;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tis_data = data[i + 1];\r\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"ArrowUp\":\r\n\t\t\t\tif (editing) break;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tis_data = data[i - 1];\r\n\t\t\t\tselected = is_data ? is_data[j].id : selected;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Escape\":\r\n\t\t\t\tif (!editable) break;\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tselected = editing;\r\n\t\t\t\tediting = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Enter\":\r\n\t\t\t\tif (!editable) break;\r\n\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\tif (event.shiftKey) {\r\n\t\t\t\t\tadd_row(i);\r\n\t\t\t\t\tawait tick();\r\n\t\t\t\t\tconst [pos] = get_current_indices(id);\r\n\t\t\t\t\tselected = data[pos + 1][j].id;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (editing === id) {\r\n\t\t\t\t\t\tediting = false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstart_edit(id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Backspace\":\r\n\t\t\t\tif (!editable) break;\r\n\t\t\t\tif (!editing) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tdata[i][j].value = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Delete\":\r\n\t\t\t\tif (!editable) break;\r\n\t\t\t\tif (!editing) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tdata[i][j].value = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"Tab\":\r\n\t\t\t\tlet direction = event.shiftKey ? -1 : 1;\r\n\r\n\t\t\t\tlet is_data_x = data[i][j + direction];\r\n\t\t\t\tlet is_data_y =\r\n\t\t\t\t\tdata?.[i + direction]?.[direction > 0 ? 0 : _headers.length - 1];\r\n\t\t\t\tlet _selected = is_data_x || is_data_y;\r\n\t\t\t\tif (_selected) {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tselected = _selected ? _selected.id : selected;\r\n\t\t\t\t}\r\n\t\t\t\tediting = false;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (\r\n\t\t\t\t\t(!editing || (editing && editing !== id)) &&\r\n\t\t\t\t\tevent.key.length === 1\r\n\t\t\t\t) {\r\n\t\t\t\t\tstart_edit(id, true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function handle_cell_click(id: string) {\r\n\t\tif (editing === id) return;\r\n\t\tif (selected === id) return;\r\n\t\tediting = false;\r\n\t\tselected = id;\r\n\t}\r\n\r\n\tasync function set_focus(id: string | boolean, type: \"edit\" | \"select\") {\r\n\t\tif (type === \"edit\" && typeof id == \"string\") {\r\n\t\t\tawait tick();\r\n\t\t\tels[id].input?.focus();\r\n\t\t}\r\n\r\n\t\tif (\r\n\t\t\ttype === \"edit\" &&\r\n\t\t\ttypeof id == \"boolean\" &&\r\n\t\t\ttypeof selected === \"string\"\r\n\t\t) {\r\n\t\t\tlet cell = els[selected]?.cell;\r\n\t\t\tawait tick();\r\n\t\t\tcell?.focus();\r\n\t\t}\r\n\r\n\t\tif (type === \"select\" && typeof id == \"string\") {\r\n\t\t\tconst { cell } = els[id];\r\n\t\t\t// cell?.setAttribute(\"tabindex\", \"0\");\r\n\t\t\tawait tick();\r\n\t\t\tcell?.focus();\r\n\t\t}\r\n\t}\r\n\r\n\t$: set_focus(editing, \"edit\");\r\n\t$: set_focus(selected, \"select\");\r\n\r\n\ttype SortDirection = \"asc\" | \"des\";\r\n\tlet sort_direction: SortDirection;\r\n\tlet sort_by: number;\r\n\r\n\tfunction sort(col: number, dir: SortDirection) {\r\n\t\tif (dir === \"asc\") {\r\n\t\t\tdata = data.sort((a, b) => (a[col].value < b[col].value ? -1 : 1));\r\n\t\t} else if (dir === \"des\") {\r\n\t\t\tdata = data.sort((a, b) => (a[col].value > b[col].value ? -1 : 1));\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handle_sort(col: number) {\r\n\t\tif (typeof sort_by !== \"number\" || sort_by !== col) {\r\n\t\t\tsort_direction = \"asc\";\r\n\t\t\tsort_by = col;\r\n\t\t} else {\r\n\t\t\tif (sort_direction === \"asc\") {\r\n\t\t\t\tsort_direction = \"des\";\r\n\t\t\t} else if (sort_direction === \"des\") {\r\n\t\t\t\tsort_direction = \"asc\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsort(col, sort_direction);\r\n\t}\r\n\r\n\tlet header_edit: string | boolean;\r\n\r\n\tfunction update_headers_data() {\r\n\t\tif (typeof selected === \"string\") {\r\n\t\t\tconst new_header = els[selected].input?.value;\r\n\t\t\tif (_headers.find((i) => i.id === selected)) {\r\n\t\t\t\tlet obj = _headers.find((i) => i.id === selected);\r\n\t\t\t\tif (new_header) obj![\"value\"] = new_header;\r\n\t\t\t} else {\r\n\t\t\t\tif (new_header) _headers.push({ id: selected, value: new_header });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tasync function edit_header(_id: string, select?: boolean) {\r\n\t\tif (!editable || col_count[1] !== \"dynamic\" || editing === _id) return;\r\n\t\theader_edit = _id;\r\n\t\tawait tick();\r\n\t\tels[_id].input?.focus();\r\n\t\tif (select) els[_id].input?.select();\r\n\t}\r\n\r\n\tfunction end_header_edit(event: KeyboardEvent) {\r\n\t\tif (!editable) return;\r\n\r\n\t\tswitch (event.key) {\r\n\t\t\tcase \"Escape\":\r\n\t\t\tcase \"Enter\":\r\n\t\t\tcase \"Tab\":\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tselected = header_edit;\r\n\t\t\t\theader_edit = false;\r\n\t\t\t\tupdate_headers_data();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction add_row(index?: number) {\r\n\t\tif (row_count[1] !== \"dynamic\") return;\r\n\t\tdata.splice(\r\n\t\t\tindex ? index + 1 : data.length,\r\n\t\t\t0,\r\n\t\t\tArray(data[0].length)\r\n\t\t\t\t.fill(0)\r\n\t\t\t\t.map((_, i) => {\r\n\t\t\t\t\tconst _id = `${data.length}-${i}`;\r\n\t\t\t\t\tels[_id] = { cell: null, input: null };\r\n\t\t\t\t\treturn { id: _id, value: \"\" };\r\n\t\t\t\t})\r\n\t\t);\r\n\r\n\t\tdata = data;\r\n\t}\r\n\r\n\tasync function add_col() {\r\n\t\tif (col_count[1] !== \"dynamic\") return;\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst _id = `${i}-${data[i].length}`;\r\n\t\t\tels[_id] = { cell: null, input: null };\r\n\t\t\tdata[i].push({ id: _id, value: \"\" });\r\n\t\t}\r\n\r\n\t\tconst _id = `h-${_headers.length}`;\r\n\t\tels[_id] = { cell: null, input: null };\r\n\t\t_headers.push({ id: _id, value: `Header ${_headers.length + 1}` });\r\n\r\n\t\tdata = data;\r\n\t\t_headers = _headers;\r\n\r\n\t\tawait tick();\r\n\r\n\t\tedit_header(_id, true);\r\n\t}\r\n\r\n\tfunction handle_click_outside(event: Event) {\r\n\t\tif (typeof editing === \"string\" && els[editing]) {\r\n\t\t\tif (\r\n\t\t\t\tels[editing].cell !== event.target &&\r\n\t\t\t\t!els[editing].cell?.contains(event?.target as Node | null)\r\n\t\t\t) {\r\n\t\t\t\tediting = false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (typeof header_edit === \"string\" && els[header_edit]) {\r\n\t\t\tif (\r\n\t\t\t\tels[header_edit].cell !== event.target &&\r\n\t\t\t\t!els[header_edit].cell?.contains(event.target as Node | null)\r\n\t\t\t) {\r\n\t\t\t\tselected = header_edit;\r\n\t\t\t\theader_edit = false;\r\n\t\t\t\tupdate_headers_data();\r\n\t\t\t\theader_edit = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction guess_delimitaor(text: string, possibleDelimiters: Array<string>) {\r\n\t\treturn possibleDelimiters.filter(weedOut);\r\n\r\n\t\tfunction weedOut(delimiter: string) {\r\n\t\t\tvar cache = -1;\r\n\t\t\treturn text.split(\"\\n\").every(checkLength);\r\n\r\n\t\t\tfunction checkLength(line: string) {\r\n\t\t\t\tif (!line) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar length = line.split(delimiter).length;\r\n\t\t\t\tif (cache < 0) {\r\n\t\t\t\t\tcache = length;\r\n\t\t\t\t}\r\n\t\t\t\treturn cache === length && length > 1;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction data_uri_to_blob(data_uri: string) {\r\n\t\tconst byte_str = atob(data_uri.split(\",\")[1]);\r\n\t\tconst mime_str = data_uri.split(\",\")[0].split(\":\")[1].split(\";\")[0];\r\n\r\n\t\tconst ab = new ArrayBuffer(byte_str.length);\r\n\t\tconst ia = new Uint8Array(ab);\r\n\r\n\t\tfor (let i = 0; i < byte_str.length; i++) {\r\n\t\t\tia[i] = byte_str.charCodeAt(i);\r\n\t\t}\r\n\r\n\t\treturn new Blob([ab], { type: mime_str });\r\n\t}\r\n\r\n\tfunction blob_to_string(blob: Blob) {\r\n\t\tconst reader = new FileReader();\r\n\r\n\t\tfunction handle_read(e: ProgressEvent<FileReader>) {\r\n\t\t\tif (!e?.target?.result || typeof e.target.result !== \"string\") return;\r\n\r\n\t\t\tconst [delimiter] = guess_delimitaor(e.target.result, [\",\", \"\\t\"]);\r\n\r\n\t\t\tconst [head, ...rest] = dsvFormat(delimiter).parseRows(e.target.result);\r\n\r\n\t\t\t_headers = make_headers(\r\n\t\t\t\tcol_count[1] === \"fixed\" ? head.slice(0, col_count[0]) : head\r\n\t\t\t);\r\n\r\n\t\t\tvalues = rest;\r\n\t\t\treader.removeEventListener(\"loadend\", handle_read);\r\n\t\t}\r\n\r\n\t\treader.addEventListener(\"loadend\", handle_read);\r\n\r\n\t\treader.readAsText(blob);\r\n\t}\r\n\r\n\tlet dragging = false;\r\n</script>\r\n\r\n<svelte:window\r\n\ton:click={handle_click_outside}\r\n\ton:touchstart={handle_click_outside}\r\n/>\r\n\r\n<div class:mt-6={label && label.length !== 0}>\r\n\t{#if label && label.length !== 0}\r\n\t\t<p\r\n\t\t\tclass=\"text-gray-600 text-[0.855rem] mb-2 block dark:text-gray-200 relative z-40\"\r\n\t\t>\r\n\t\t\t{label}\r\n\t\t</p>\r\n\t{/if}\r\n\t<div\r\n\t\tclass=\"scroll-hide  overflow-hidden rounded-lg relative border transition-colors overflow-x-scroll\"\r\n\t\tclass:border-green-400={dragging}\r\n\t\tclass:whitespace-nowrap={!wrap}\r\n\t>\r\n\t\t<Upload\r\n\t\t\tflex={false}\r\n\t\t\tcenter={false}\r\n\t\t\tboundedheight={false}\r\n\t\t\tdisable_click={true}\r\n\t\t\ton:load={(e) => blob_to_string(data_uri_to_blob(e.detail.data))}\r\n\t\t\tbind:dragging\r\n\t\t>\r\n\t\t\t<table\r\n\t\t\t\tclass=\"table-auto font-mono w-full text-gray-900 text-sm transition-opacity overflow-hidden\"\r\n\t\t\t\tclass:opacity-40={dragging}\r\n\t\t\t>\r\n\t\t\t\t{#if label && label.length !== 0}\r\n\t\t\t\t\t<caption class=\"sr-only\">{label}</caption>\r\n\t\t\t\t{/if}\r\n\t\t\t\t<thead class=\"sticky top-0 left-0 right-0 bg-white shadow-sm z-10\">\r\n\t\t\t\t\t<tr\r\n\t\t\t\t\t\tclass=\"border-b  dark:border-gray-700 divide-x dark:divide-gray-700 text-left\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{#each _headers as { value, id }, i (id)}\r\n\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\tbind:this={els[id].cell}\r\n\t\t\t\t\t\t\t\tclass=\"p-0 relative focus-within:ring-1 ring-orange-500 ring-inset outline-none\"\r\n\t\t\t\t\t\t\t\tclass:bg-orange-50={header_edit === id}\r\n\t\t\t\t\t\t\t\tclass:dark:bg-transparent={header_edit === id}\r\n\t\t\t\t\t\t\t\tclass:rounded-tl-lg={i === 0}\r\n\t\t\t\t\t\t\t\tclass:rounded-tr-lg={i === _headers.length - 1}\r\n\t\t\t\t\t\t\t\taria-sort={get_sort_status(value, sort_by, sort_direction)}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<div class=\"min-h-[2.3rem] flex outline-none\">\r\n\t\t\t\t\t\t\t\t\t<EditableCell\r\n\t\t\t\t\t\t\t\t\t\t{value}\r\n\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\r\n\t\t\t\t\t\t\t\t\t\tedit={header_edit === id}\r\n\t\t\t\t\t\t\t\t\t\ton:keydown={end_header_edit}\r\n\t\t\t\t\t\t\t\t\t\ton:dblclick={() => edit_header(id)}\r\n\t\t\t\t\t\t\t\t\t\theader\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass=\"flex flex-none items-center justify-center p-2 cursor-pointer  leading-snug transform transition-all {sort_by !==\r\n\t\t\t\t\t\t\t\t\t\ti\r\n\t\t\t\t\t\t\t\t\t\t\t? 'text-gray-200 hover:text-gray-500'\r\n\t\t\t\t\t\t\t\t\t\t\t: 'text-orange-500'} {sort_by === i &&\r\n\t\t\t\t\t\t\t\t\t\tsort_direction === 'des'\r\n\t\t\t\t\t\t\t\t\t\t\t? '-scale-y-[1]'\r\n\t\t\t\t\t\t\t\t\t\t\t: ''}\"\r\n\t\t\t\t\t\t\t\t\t\tclass:text-gray-200={sort_by !== i}\r\n\t\t\t\t\t\t\t\t\t\ton:click={() => handle_sort(i)}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\t\t\t\t\twidth=\"1em\"\r\n\t\t\t\t\t\t\t\t\t\t\theight=\"1em\"\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"fill-current text-[10px]\"\r\n\t\t\t\t\t\t\t\t\t\t\tviewBox=\"0 0 9 7\"\r\n\t\t\t\t\t\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<path d=\"M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z\" />\r\n\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\r\n\t\t\t\t<tbody class=\"overflow-y-scroll\">\r\n\t\t\t\t\t{#each data as row, i (row)}\r\n\t\t\t\t\t\t<tr\r\n\t\t\t\t\t\t\tclass=\"group border-b dark:border-gray-700 last:border-none divide-x dark:divide-gray-700 space-x-4 odd:bg-gray-50 dark:odd:bg-gray-900 group focus:bg-gradient-to-b focus:from-blue-100 dark:focus:from-blue-900 focus:to-blue-50 dark:focus:to-gray-900 focus:odd:bg-white\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{#each row as { value, id }, j (id)}\r\n\t\t\t\t\t\t\t\t<td\r\n\t\t\t\t\t\t\t\t\ttabindex=\"0\"\r\n\t\t\t\t\t\t\t\t\tbind:this={els[id].cell}\r\n\t\t\t\t\t\t\t\t\ton:touchstart={() => start_edit(id)}\r\n\t\t\t\t\t\t\t\t\ton:click={() => handle_cell_click(id)}\r\n\t\t\t\t\t\t\t\t\ton:dblclick={() => start_edit(id)}\r\n\t\t\t\t\t\t\t\t\ton:keydown={(e) => handle_keydown(e, i, j, id)}\r\n\t\t\t\t\t\t\t\t\tclass=\" outline-none focus-within:ring-1 ring-orange-500 ring-inset focus-within:bg-orange-50 dark:focus-within:bg-gray-800 group-last:first:rounded-bl-lg group-last:last:rounded-br-lg relative\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclass:border-transparent={selected !== id}\r\n\t\t\t\t\t\t\t\t\t\tclass=\"min-h-[2.3rem] h-full  outline-none flex items-center\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditableCell\r\n\t\t\t\t\t\t\t\t\t\t\tbind:value\r\n\t\t\t\t\t\t\t\t\t\t\tbind:el={els[id].input}\r\n\t\t\t\t\t\t\t\t\t\t\tedit={editing === id}\r\n\t\t\t\t\t\t\t\t\t\t\tdatatype={Array.isArray(datatype)\r\n\t\t\t\t\t\t\t\t\t\t\t\t? datatype[j]\r\n\t\t\t\t\t\t\t\t\t\t\t\t: datatype}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</Upload>\r\n\t</div>\r\n\t{#if editable}\r\n\t\t<div class=\"flex justify-end space-x-1 pt-2 text-gray-800\">\r\n\t\t\t{#if row_count[1] === \"dynamic\"}\r\n\t\t\t\t<button class=\"!flex-none gr-button group\" on:click={() => add_row()}\r\n\t\t\t\t\t><svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\tclass=\"mr-1 group-hover:text-orange-500\"\r\n\t\t\t\t\t\twidth=\"1em\"\r\n\t\t\t\t\t\theight=\"1em\"\r\n\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\r\n\t\t\t\t\t\tviewBox=\"0 0 32 32\"\r\n\t\t\t\t\t\t><path\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\td=\"M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z\"\r\n\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t>New row</button\r\n\t\t\t\t>\r\n\t\t\t{/if}\r\n\t\t\t{#if col_count[1] === \"dynamic\"}\r\n\t\t\t\t<button class=\"!flex-none gr-button group\" on:click={add_col}>\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\txmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n\t\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t\t\trole=\"img\"\r\n\t\t\t\t\t\tclass=\"mr-1 group-hover:text-orange-500\"\r\n\t\t\t\t\t\twidth=\"1em\"\r\n\t\t\t\t\t\theight=\"1em\"\r\n\t\t\t\t\t\tpreserveAspectRatio=\"xMidYMid meet\"\r\n\t\t\t\t\t\tviewBox=\"0 0 32 32\"\r\n\t\t\t\t\t\t><path\r\n\t\t\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\t\t\td=\"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z\"\r\n\t\t\t\t\t\t/></svg\r\n\t\t\t\t\t>\r\n\t\t\t\t\tNew column</button\r\n\t\t\t\t>{/if}\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { Table } from \"@gradio/table\";\r\n\timport StatusTracker from \"../StatusTracker/StatusTracker.svelte\";\r\n\timport type { LoadingStatus } from \"../StatusTracker/types\";\r\n\timport { createEventDispatcher, tick } from \"svelte\";\r\n\r\n\ttype Headers = Array<string>;\r\n\ttype Data = Array<Array<string | number>>;\r\n\ttype Datatype = \"str\" | \"markdown\" | \"html\" | \"number\" | \"bool\" | \"date\";\r\n\r\n\texport let headers: Headers = [];\r\n\texport let elem_id: string = \"\";\r\n\texport let visible: boolean = true;\r\n\texport let value: { data: Data; headers: Headers } = {\r\n\t\tdata: [[\"\", \"\", \"\"]],\r\n\t\theaders: [\"1\", \"2\", \"3\"]\r\n\t};\r\n\texport let mode: \"static\" | \"dynamic\";\r\n\texport let col_count: [number, \"fixed\" | \"dynamic\"];\r\n\texport let row_count: [number, \"fixed\" | \"dynamic\"];\r\n\texport let label: string | null = null;\r\n\texport let wrap: boolean;\r\n\texport let datatype: Datatype | Array<Datatype>;\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\texport let loading_status: LoadingStatus;\r\n\r\n\tasync function handle_change(detail: {\r\n\t\tdata: Array<Array<string | number>>;\r\n\t\theaders: Array<string>;\r\n\t}) {\r\n\t\tvalue = detail;\r\n\t\tawait tick();\r\n\t\tdispatch(\"change\", detail);\r\n\t}\r\n</script>\r\n\r\n<div id={elem_id} class=\"relative overflow-hidden\" class:!hidden={!visible}>\r\n\t<StatusTracker {...loading_status} />\r\n\t<Table\r\n\t\t{label}\r\n\t\t{row_count}\r\n\t\t{col_count}\r\n\t\tvalues={value}\r\n\t\t{headers}\r\n\t\ton:change={({ detail }) => handle_change(detail)}\r\n\t\teditable={mode === \"dynamic\"}\r\n\t\t{wrap}\r\n\t\t{datatype}\r\n\t/>\r\n</div>\r\n","export { default as Component } from \"./DataFrame.svelte\";\r\nexport const modes = [\"static\", \"dynamic\"];\r\n\r\nexport const document = (config: Record<string, any>) => ({\r\n\ttype: \" { data: Array<Array<string | number>>; headers: Array<string> }\",\r\n\tdescription: \"hex color code\",\r\n\texample_data: config.value ?? \"#000000\"\r\n});\r\n"],"names":[],"mappings":"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"}