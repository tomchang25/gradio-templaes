{"version":3,"file":"TabItem.svelte_svelte_type_style_lang-588f162a.js","sources":["../../../../js/tabs/src/Tabs.svelte"],"sourcesContent":["<script context=\"module\">\r\n\texport const TABS = {};\r\n</script>\r\n\r\n<script lang=\"ts\">\r\n\timport { setContext, createEventDispatcher, tick } from \"svelte\";\r\n\timport { writable } from \"svelte/store\";\r\n\timport type { SelectData } from \"@gradio/utils\";\r\n\r\n\tinterface Tab {\r\n\t\tname: string;\r\n\t\tid: object;\r\n\t}\r\n\r\n\texport let visible: boolean = true;\r\n\texport let elem_id: string = \"id\";\r\n\texport let elem_classes: Array<string> = [];\r\n\texport let selected: number | string | object;\r\n\r\n\tlet tabs: Array<Tab> = [];\r\n\r\n\tconst selected_tab = writable<false | object | number | string>(false);\r\n\tconst selected_tab_index = writable<number>(0);\r\n\tconst dispatch = createEventDispatcher<{\r\n\t\tchange: undefined;\r\n\t\tselect: SelectData;\r\n\t}>();\r\n\r\n\tsetContext(TABS, {\r\n\t\tregister_tab: (tab: Tab) => {\r\n\t\t\ttabs.push({ name: tab.name, id: tab.id });\r\n\t\t\tselected_tab.update((current) => current ?? tab.id);\r\n\t\t\ttabs = tabs;\r\n\t\t\treturn tabs.length - 1;\r\n\t\t},\r\n\t\tunregister_tab: (tab: Tab) => {\r\n\t\t\tconst i = tabs.findIndex((t) => t.id === tab.id);\r\n\t\t\ttabs.splice(i, 1);\r\n\t\t\tselected_tab.update((current) =>\r\n\t\t\t\tcurrent === tab.id ? tabs[i]?.id || tabs[tabs.length - 1]?.id : current\r\n\t\t\t);\r\n\t\t},\r\n\t\tselected_tab,\r\n\t\tselected_tab_index\r\n\t});\r\n\r\n\tfunction change_tab(id: object | string | number) {\r\n\t\tselected = id;\r\n\t\t$selected_tab = id;\r\n\t\t$selected_tab_index = tabs.findIndex((t) => t.id === id);\r\n\t\tdispatch(\"change\");\r\n\t}\r\n\r\n\t$: selected !== null && change_tab(selected);\r\n</script>\r\n\r\n<div class=\"tabs {elem_classes.join(' ')}\" class:hide={!visible} id={elem_id}>\r\n\t<div class=\"tab-nav scroll-hide\">\r\n\t\t{#each tabs as t, i (t.id)}\r\n\t\t\t{#if t.id === $selected_tab}\r\n\t\t\t\t<button class=\"selected\">\r\n\t\t\t\t\t{t.name}\r\n\t\t\t\t</button>\r\n\t\t\t{:else}\r\n\t\t\t\t<button\r\n\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\tchange_tab(t.id);\r\n\t\t\t\t\t\tdispatch(\"select\", { value: t.name, index: i });\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{t.name}\r\n\t\t\t\t</button>\r\n\t\t\t{/if}\r\n\t\t{/each}\r\n\t</div>\r\n\t<slot />\r\n</div>\r\n\r\n<style>\r\n\t.tabs {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.hide {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.tab-nav {\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t\tflex-wrap: wrap;\r\n\t\tborder-bottom: 1px solid var(--border-color-primary);\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tmargin-bottom: -1px;\r\n\t\tborder: 1px solid transparent;\r\n\t\tborder-color: transparent;\r\n\t\tborder-bottom: none;\r\n\t\tborder-top-right-radius: var(--container-radius);\r\n\t\tborder-top-left-radius: var(--container-radius);\r\n\t\tpadding: var(--size-1) var(--size-4);\r\n\t\tcolor: var(--body-text-color-subdued);\r\n\t\tfont-weight: var(--section-header-text-weight);\r\n\t\tfont-size: var(--section-header-text-size);\r\n\t}\r\n\r\n\tbutton:hover {\r\n\t\tcolor: var(--body-text-color);\r\n\t}\r\n\t.selected {\r\n\t\tborder-color: var(--border-color-primary);\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\tcolor: var(--body-text-color);\r\n\t}\r\n\r\n\t.bar {\r\n\t\tdisplay: block;\r\n\t\tposition: absolute;\r\n\t\tbottom: -2px;\r\n\t\tleft: 0;\r\n\t\tz-index: 999;\r\n\t\tbackground: var(--background-fill-primary);\r\n\t\twidth: 100%;\r\n\t\theight: 2px;\r\n\t\tcontent: \"\";\r\n\t}\r\n</style>\r\n"],"names":["t0_value","ctx","insert","target","button","anchor","dirty","set_data","t0","create_if_block","get_key","i","div1","append","div0","TABS","visible","$$props","elem_id","elem_classes","selected","tabs","selected_tab","writable","selected_tab_index","dispatch","createEventDispatcher","setContext","tab","current","t","change_tab","id","$$invalidate","set_store_value","$selected_tab","$selected_tab_index"],"mappings":"oTAsEMA,EAAAC,MAAE,KAAI,8HANRC,EAOSC,EAAAC,EAAAC,CAAA,uDADPC,EAAA,GAAAN,KAAAA,EAAAC,MAAE,KAAI,KAAAM,EAAAC,EAAAR,CAAA,+CATNA,EAAAC,MAAE,KAAI,4FADRC,EAESC,EAAAC,EAAAC,CAAA,wBADPC,EAAA,GAAAN,KAAAA,EAAAC,MAAE,KAAI,KAAAM,EAAAC,EAAAR,CAAA,iEAFJC,EAAC,EAAA,EAAC,KAAOA,EAAa,CAAA,EAAAQ,oRADrBR,EAAI,CAAA,EAAU,MAAAS,EAAAT,GAAAA,MAAE,mBAArB,OAAIU,GAAA,EAAA,mPAFUV,EAAY,CAAA,EAAC,KAAK,GAAG,EAAA,iBAAA,WAA8BA,EAAO,CAAA,CAAA,cAApBA,EAAO,CAAA,CAAA,UAA/DC,EAoBMC,EAAAS,EAAAP,CAAA,EAnBLQ,EAiBMD,EAAAE,CAAA,kGAhBEb,EAAI,CAAA,mIAFKA,EAAY,CAAA,EAAC,KAAK,GAAG,EAAA,wDAA8BA,EAAO,CAAA,CAAA,yBAApBA,EAAO,CAAA,CAAA,gHAvDjDc,EAAI,CAAA,uDAaN,CAAA,QAAAC,EAAmB,EAAI,EAAAC,EACvB,CAAA,QAAAC,EAAkB,IAAI,EAAAD,GACtB,aAAAE,EAAY,EAAA,EAAAF,GACZ,SAAAG,CAAkC,EAAAH,EAEzCI,EAAI,CAAA,QAEFC,EAAeC,EAA2C,EAAK,2BAC/DC,EAAqBD,EAAiB,CAAC,sBACvC,MAAAE,EAAWC,IAKjBC,EAAWZ,EAAI,CACd,aAAea,IACdP,EAAK,KAAO,CAAA,KAAMO,EAAI,KAAM,GAAIA,EAAI,EAAE,CAAA,EACtCN,EAAa,OAAQO,GAAYA,GAAWD,EAAI,EAAE,SAE3CP,EAAK,OAAS,GAEtB,eAAiBO,GAAQ,CAClB,MAAAjB,EAAIU,EAAK,UAAWS,GAAMA,EAAE,KAAOF,EAAI,EAAE,EAC/CP,EAAK,OAAOV,EAAG,CAAC,EAChBW,EAAa,OAAQO,GACpBA,IAAYD,EAAI,GAAKP,EAAKV,CAAC,GAAG,IAAMU,EAAKA,EAAK,OAAS,CAAC,GAAG,GAAKQ,CAAO,GAGzE,aAAAP,EACA,mBAAAE,IAGQ,SAAAO,EAAWC,EAA4B,CAC/CC,EAAA,EAAAb,EAAWY,CAAE,EACbE,EAAAZ,EAAAa,EAAgBH,EAAEG,CAAA,MAClBC,EAAsBf,EAAK,UAAWS,GAAMA,EAAE,KAAOE,CAAE,EAAAI,CAAA,EACvDX,EAAS,QAAQ,kBAgBbM,EAAWD,EAAE,EAAE,EACfL,EAAS,SAAQ,CAAI,MAAOK,EAAE,KAAM,MAAOnB,CAAC,CAAA,qOAd9CS,IAAa,MAAQW,EAAWX,CAAQ"}