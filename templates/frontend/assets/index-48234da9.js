import{S as ee,i as le,s as te,ab as ne,H as D,f as pe,g as A,J as M,p,l as J,t as z,o as K,q as C,r as ye,e as I,m as L,n as N,T as ze,b as V,G as j,C as h,M as B,E as y,ai as Ge,N as ie,L as H,D as F,a0 as Be,I as se,K as ae,x as je,$ as Ae,h as Ce,j as De,y as Ee}from"./index-1bfae066.js";import{g as Ie,B as Le}from"./Button-f85c92e7.js";import{B as Ne}from"./BlockLabel-f7c11e39.js";import{E as qe}from"./Empty-a0144be7.js";import{n as O}from"./ModifyUpload.svelte_svelte_type_style_lang-ba6baa96.js";import{M as He}from"./ModifyUpload-59eb49c0.js";/* empty css                                                    */import{I as oe}from"./Image-cbf861f4.js";function P(l,t,e){const n=l.slice();return n[31]=t[e][0],n[32]=t[e][1],n[34]=e,n}function Q(l,t,e){const n=l.slice();return n[31]=t[e],n[35]=t,n[34]=e,n}function W(l){let t,e;return t=new Ne({props:{show_label:l[0],Icon:oe,label:l[1]||"Gallery",disable:typeof l[3].container=="boolean"&&!l[3].container}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const o={};i[0]&1&&(o.show_label=n[0]),i[0]&2&&(o.label=n[1]||"Gallery"),i[0]&8&&(o.disable=typeof n[3].container=="boolean"&&!n[3].container),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Me(l){let t,e,n,i,o,b=l[4]!==null&&X(l),f=l[7],s=[];for(let a=0;a<f.length;a+=1)s[a]=x(P(l,f,a));return{c(){b&&b.c(),t=D(),e=j("div"),n=j("div");for(let a=0;a<s.length;a+=1)s[a].c();h(n,"class","grid-container svelte-ftra1b"),h(n,"style",l[10]),B(n,"pt-6",l[0]),h(e,"class","grid-wrap svelte-ftra1b"),ne(()=>l[26].call(e)),B(e,"fixed-height",!l[3].height||l[3].height=="auto")},m(a,c){b&&b.m(a,c),A(a,t,c),A(a,e,c),y(e,n);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(n,null);i=Ge(e,l[26].bind(e)),o=!0},p(a,c){if(a[4]!==null?b?(b.p(a,c),c[0]&16&&p(b,1)):(b=X(a),b.c(),p(b,1),b.m(t.parentNode,t)):b&&(J(),z(b,1,1,()=>{b=null}),K()),c[0]&2192){f=a[7];let m;for(m=0;m<f.length;m+=1){const u=P(a,f,m);s[m]?s[m].p(u,c):(s[m]=x(u),s[m].c(),s[m].m(n,null))}for(;m<s.length;m+=1)s[m].d(1);s.length=f.length}(!o||c[0]&1024)&&h(n,"style",a[10]),(!o||c[0]&1)&&B(n,"pt-6",a[0]),(!o||c[0]&8)&&B(e,"fixed-height",!a[3].height||a[3].height=="auto")},i(a){o||(p(b),o=!0)},o(a){z(b),o=!1},d(a){b&&b.d(a),a&&C(t),a&&C(e),ie(s,a),i()}}}function Re(l){let t,e;return t=new qe({props:{size:"large",unpadded_box:!0,$$slots:{default:[Se]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const o={};i[1]&32&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function X(l){let t,e,n,i,o,b,f,s,a,c,m,u,d;e=new He({}),e.$on("clear",l[20]);let _=l[7][l[4]][1]&&Y(l),G=l[7],k=[];for(let r=0;r<G.length;r+=1)k[r]=Z(Q(l,G,r));return{c(){t=j("div"),I(e.$$.fragment),n=D(),i=j("img"),s=D(),_&&_.c(),a=D(),c=j("div");for(let r=0;r<k.length;r+=1)k[r].c();H(i.src,o=l[7][l[4]][0].data)||h(i,"src",o),h(i,"alt",b=l[7][l[4]][1]||""),h(i,"title",f=l[7][l[4]][1]||null),F(i,"height","calc(100% - "+(l[7][l[4]][1]?"80px":"60px")+")"),h(i,"class","svelte-ftra1b"),B(i,"with-caption",!!l[7][l[4]][1]),h(c,"class","thumbnails scroll-hide svelte-ftra1b"),h(t,"class","preview svelte-ftra1b"),B(t,"fixed-height",l[3].height!=="auto")},m(r,v){A(r,t,v),L(e,t,null),y(t,n),y(t,i),y(t,s),_&&_.m(t,null),y(t,a),y(t,c);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(c,null);l[24](c),m=!0,u||(d=[M(i,"click",l[21]),M(t,"keydown",l[13])],u=!0)},p(r,v){if((!m||v[0]&144&&!H(i.src,o=r[7][r[4]][0].data))&&h(i,"src",o),(!m||v[0]&144&&b!==(b=r[7][r[4]][1]||""))&&h(i,"alt",b),(!m||v[0]&144&&f!==(f=r[7][r[4]][1]||null))&&h(i,"title",f),(!m||v[0]&144)&&F(i,"height","calc(100% - "+(r[7][r[4]][1]?"80px":"60px")+")"),(!m||v[0]&144)&&B(i,"with-caption",!!r[7][r[4]][1]),r[7][r[4]][1]?_?_.p(r,v):(_=Y(r),_.c(),_.m(t,a)):_&&(_.d(1),_=null),v[0]&400){G=r[7];let w;for(w=0;w<G.length;w+=1){const E=Q(r,G,w);k[w]?k[w].p(E,v):(k[w]=Z(E),k[w].c(),k[w].m(c,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=G.length}(!m||v[0]&8)&&B(t,"fixed-height",r[3].height!=="auto")},i(r){m||(p(e.$$.fragment,r),m=!0)},o(r){z(e.$$.fragment,r),m=!1},d(r){r&&C(t),N(e),_&&_.d(),ie(k,r),l[24](null),u=!1,Be(d)}}}function Y(l){let t,e=l[7][l[4]][1]+"",n;return{c(){t=j("div"),n=se(e),h(t,"class","caption svelte-ftra1b")},m(i,o){A(i,t,o),y(t,n)},p(i,o){o[0]&144&&e!==(e=i[7][i[4]][1]+"")&&ae(n,e)},d(i){i&&C(t)}}}function Z(l){let t,e,n,i,o,b,f=l[34],s,a;const c=()=>l[22](t,f),m=()=>l[22](null,f);function u(){return l[23](l[34])}return{c(){t=j("button"),e=j("img"),b=D(),H(e.src,n=l[31][0].data)||h(e,"src",n),h(e,"title",i=l[31][1]||null),h(e,"alt",o=l[31][1]||null),h(e,"class","svelte-ftra1b"),h(t,"class","thumbnail-item thumbnail-small svelte-ftra1b"),B(t,"selected",l[4]===l[34])},m(d,_){A(d,t,_),y(t,e),y(t,b),c(),s||(a=M(t,"click",u),s=!0)},p(d,_){l=d,_[0]&128&&!H(e.src,n=l[31][0].data)&&h(e,"src",n),_[0]&128&&i!==(i=l[31][1]||null)&&h(e,"title",i),_[0]&128&&o!==(o=l[31][1]||null)&&h(e,"alt",o),f!==l[34]&&(m(),f=l[34],c()),_[0]&16&&B(t,"selected",l[4]===l[34])},d(d){d&&C(t),m(),s=!1,a()}}}function $(l){let t,e=l[32]+"",n;return{c(){t=j("div"),n=se(e),h(t,"class","caption-label svelte-ftra1b")},m(i,o){A(i,t,o),y(t,n)},p(i,o){o[0]&128&&e!==(e=i[32]+"")&&ae(n,e)},d(i){i&&C(t)}}}function x(l){let t,e,n,i,o,b,f,s,a=l[32]&&$(l);function c(){return l[25](l[34])}return{c(){t=j("button"),e=j("img"),o=D(),a&&a.c(),b=D(),h(e,"alt",n=l[32]||""),H(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)||h(e,"src",i),h(e,"class","svelte-ftra1b"),h(t,"class","thumbnail-item thumbnail-lg svelte-ftra1b"),B(t,"selected",l[4]===l[34])},m(m,u){A(m,t,u),y(t,e),y(t,o),a&&a.m(t,null),y(t,b),f||(s=M(t,"click",c),f=!0)},p(m,u){l=m,u[0]&128&&n!==(n=l[32]||"")&&h(e,"alt",n),u[0]&128&&!H(e.src,i=typeof l[31]=="string"?l[31]:l[31].data)&&h(e,"src",i),l[32]?a?a.p(l,u):(a=$(l),a.c(),a.m(t,b)):a&&(a.d(1),a=null),u[0]&16&&B(t,"selected",l[4]===l[34])},d(m){m&&C(t),a&&a.d(),f=!1,s()}}}function Se(l){let t,e;return t=new oe({}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Te(l){let t,e,n,i,o,b,f;ne(l[19]);let s=l[0]&&W(l);const a=[Re,Me],c=[];function m(u,d){return u[2]===null||u[7]===null||u[7].length===0?0:1}return e=m(l),n=c[e]=a[e](l),{c(){s&&s.c(),t=D(),n.c(),i=pe()},m(u,d){s&&s.m(u,d),A(u,t,d),c[e].m(u,d),A(u,i,d),o=!0,b||(f=M(window,"resize",l[19]),b=!0)},p(u,d){u[0]?s?(s.p(u,d),d[0]&1&&p(s,1)):(s=W(u),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(J(),z(s,1,1,()=>{s=null}),K());let _=e;e=m(u),e===_?c[e].p(u,d):(J(),z(c[_],1,1,()=>{c[_]=null}),K(),n=c[e],n?n.p(u,d):(n=c[e]=a[e](u),n.c()),p(n,1),n.m(i.parentNode,i))},i(u){o||(p(s),p(n),o=!0)},o(u){z(s),z(n),o=!1},d(u){s&&s.d(u),u&&C(t),c[e].d(u),u&&C(i),b=!1,f()}}}function Je(l,t,e){let n,i,o,b,f,{show_label:s=!0}=t,{label:a}=t,{root:c=""}=t,{root_url:m=null}=t,{value:u=null}=t,{style:d={grid_cols:[2],object_fit:"cover",height:"auto"}}=t;const _=ye();let G=!0,k=u,r=null,v=null;function w(g){switch(g.code){case"Escape":g.preventDefault(),e(4,r=null);break;case"ArrowLeft":g.preventDefault(),e(4,r=i);break;case"ArrowRight":g.preventDefault(),e(4,r=o);break}}let E=[],q;async function re(g){if(typeof g!="number")return;await ze(),E[g].focus();const{left:T,width:ke}=q.getBoundingClientRect(),{left:we,width:ve}=E[g].getBoundingClientRect(),U=we-T+ve/2-ke/2+q.scrollLeft;q.scrollTo({left:U<0?0:U,behavior:"smooth"})}function fe(g){return e(10,f=Ie(g,["grid_cols","grid_rows","object_fit"]).styles),f+` height: ${g.height}`}let R=0,S=0;function ue(){e(6,S=window.innerHeight)}const _e=()=>e(4,r=null),ce=()=>e(4,r=o);function me(g,T){V[g?"unshift":"push"](()=>{E[T]=g,e(8,E)})}const be=g=>e(4,r=g);function ge(g){V[g?"unshift":"push"](()=>{q=g,e(9,q)})}const he=g=>e(4,r=b?g:r);function de(){R=this.clientHeight,e(5,R)}return l.$$set=g=>{"show_label"in g&&e(0,s=g.show_label),"label"in g&&e(1,a=g.label),"root"in g&&e(14,c=g.root),"root_url"in g&&e(15,m=g.root_url),"value"in g&&e(2,u=g.value),"style"in g&&e(3,d=g.style)},l.$$.update=()=>{l.$$.dirty[0]&65540&&e(16,G=u==null||u.length==0?!0:G),l.$$.dirty[0]&49156&&e(7,n=u===null?null:u.map(g=>Array.isArray(g)?[O(g[0],c,m),g[1]]:[O(g,c,m),null])),l.$$.dirty[0]&196636&&k!==u&&(G?(e(4,r=d.preview?0:null),e(16,G=!1)):e(4,r=r!==null&&u!==null&&r<u.length?r:null),e(17,k=u)),l.$$.dirty[0]&144&&(i=((r??0)+(n?.length??0)-1)%(n?.length??0)),l.$$.dirty[0]&144&&e(12,o=((r??0)+1)%(n?.length??0)),l.$$.dirty[0]&262288&&r!==v&&(e(18,v=r),r!==null&&_("select",{index:r,value:n?.[r][1]})),l.$$.dirty[0]&16&&re(r),l.$$.dirty[0]&96&&e(11,b=S>=R),l.$$.dirty[0]&8&&e(10,f=fe(d))},[s,a,u,d,r,R,S,n,E,q,f,b,o,w,c,m,G,k,v,ue,_e,ce,me,be,ge,he,de]}class Ke extends ee{constructor(t){super(),le(this,t,Je,Te,te,{show_label:0,label:1,root:14,root_url:15,value:2,style:3},null,[-1,-1])}}function Ue(l){let t,e,n,i;const o=[l[0]];let b={};for(let f=0;f<o.length;f+=1)b=je(b,o[f]);return t=new Ae({props:b}),n=new Ke({props:{label:l[2],value:l[8],style:l[9],show_label:l[1],root:l[3],root_url:l[4]}}),n.$on("select",l[10]),{c(){I(t.$$.fragment),e=D(),I(n.$$.fragment)},m(f,s){L(t,f,s),A(f,e,s),L(n,f,s),i=!0},p(f,s){const a=s&1?Ce(o,[De(f[0])]):{};t.$set(a);const c={};s&4&&(c.label=f[2]),s&256&&(c.value=f[8]),s&512&&(c.style=f[9]),s&2&&(c.show_label=f[1]),s&8&&(c.root=f[3]),s&16&&(c.root_url=f[4]),n.$set(c)},i(f){i||(p(t.$$.fragment,f),p(n.$$.fragment,f),i=!0)},o(f){z(t.$$.fragment,f),z(n.$$.fragment,f),i=!1},d(f){N(t,f),f&&C(e),N(n,f)}}}function Ve(l){let t,e;return t=new Le({props:{visible:l[7],variant:"solid",padding:!1,elem_id:l[5],elem_classes:l[6],disable:typeof l[9].container=="boolean"&&!l[9].container,$$slots:{default:[Ue]},$$scope:{ctx:l}}}),{c(){I(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,[i]){const o={};i&128&&(o.visible=n[7]),i&32&&(o.elem_id=n[5]),i&64&&(o.elem_classes=n[6]),i&512&&(o.disable=typeof n[9].container=="boolean"&&!n[9].container),i&2847&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){z(t.$$.fragment,n),e=!1},d(n){N(t,n)}}}function Fe(l,t,e){let{loading_status:n}=t,{show_label:i}=t,{label:o}=t,{root:b}=t,{root_url:f}=t,{elem_id:s=""}=t,{elem_classes:a=[]}=t,{visible:c=!0}=t,{value:m=null}=t,{style:u={}}=t;function d(_){Ee.call(this,l,_)}return l.$$set=_=>{"loading_status"in _&&e(0,n=_.loading_status),"show_label"in _&&e(1,i=_.show_label),"label"in _&&e(2,o=_.label),"root"in _&&e(3,b=_.root),"root_url"in _&&e(4,f=_.root_url),"elem_id"in _&&e(5,s=_.elem_id),"elem_classes"in _&&e(6,a=_.elem_classes),"visible"in _&&e(7,c=_.visible),"value"in _&&e(8,m=_.value),"style"in _&&e(9,u=_.style)},[n,i,o,b,f,s,a,c,m,u,d]}class Oe extends ee{constructor(t){super(),le(this,t,Fe,Ve,te,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,style:9})}}const ll=Oe,tl=["static"],nl=l=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{ll as Component,nl as document,tl as modes};
//# sourceMappingURL=index-48234da9.js.map
